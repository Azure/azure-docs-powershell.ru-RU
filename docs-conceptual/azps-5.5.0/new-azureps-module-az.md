---
title: Знакомство с модулем Azure Az PowerShell
description: Знакомство с модулем Az PowerShell, рекомендуемым для взаимодействия с Azure вместо модуля AzureRM PowerShell.
ms.date: 02/12/2021
ms.devlang: powershell
ms.topic: conceptual
ms.custom: devx-track-azurepowershell
ms.service: azure-powershell
ms.openlocfilehash: b52b6995fb50a6ce502d42e7df588ca72340a1e7
ms.sourcegitcommit: 0c61b7f42dec507e576c92e0a516c6655e9f50fc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100409483"
---
# <a name="introducing-the-azure-az-powershell-module"></a><span data-ttu-id="4b268-103">Знакомство с модулем Azure Az PowerShell</span><span class="sxs-lookup"><span data-stu-id="4b268-103">Introducing the Azure Az PowerShell module</span></span>

## <a name="overview"></a><span data-ttu-id="4b268-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="4b268-104">Overview</span></span>

<span data-ttu-id="4b268-105">Модуль Az PowerShell — это набор командлетов для управления ресурсами Azure непосредственно из PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4b268-105">The Az PowerShell module is a set of cmdlets for managing Azure resources directly from PowerShell.</span></span> <span data-ttu-id="4b268-106">PowerShell предоставляет мощные возможности автоматизации, которые можно использовать для управления ресурсами Azure, например, в контексте конвейера CI/CD.</span><span class="sxs-lookup"><span data-stu-id="4b268-106">PowerShell provides powerful features for automation that can be leveraged for managing your Azure resources for examples in the context of a CI/CD pipeline.</span></span>

<span data-ttu-id="4b268-107">Модуль Az PowerShell является заменой AzureRM. Теперь это рекомендуемая версия для взаимодействия с Azure.</span><span class="sxs-lookup"><span data-stu-id="4b268-107">The Az PowerShell module is the replacement of AzureRM and is the recommended version to use for interacting with Azure.</span></span>

<span data-ttu-id="4b268-108">Модуль Az PowerShell можно использовать с одним из следующих методов:</span><span class="sxs-lookup"><span data-stu-id="4b268-108">You can use the Az PowerShell module with one of the following methods:</span></span>

* <span data-ttu-id="4b268-109">[установив модуль Az PowerShell с помощью PowerShellGet](install-az-ps.md) (рекомендуемый вариант);</span><span class="sxs-lookup"><span data-stu-id="4b268-109">[Install the Az PowerShell module via PowerShellGet](install-az-ps.md) (recommended option).</span></span>
* <span data-ttu-id="4b268-110">[установив модуль Az PowerShell с помощью MSI;](install-az-ps-msi.md)</span><span class="sxs-lookup"><span data-stu-id="4b268-110">[Install the Az PowerShell module with MSI](install-az-ps-msi.md).</span></span>
* <span data-ttu-id="4b268-111">[используя Azure Cloud Shell;](/azure/cloud-shell/overview)</span><span class="sxs-lookup"><span data-stu-id="4b268-111">[Use Azure Cloud Shell](/azure/cloud-shell/overview).</span></span>
* <span data-ttu-id="4b268-112">[используя контейнер Docker Az PowerShell.](azureps-in-docker.md)</span><span class="sxs-lookup"><span data-stu-id="4b268-112">[Use the Az PowerShell Docker container](azureps-in-docker.md).</span></span>

## <a name="features"></a><span data-ttu-id="4b268-113">Компоненты</span><span class="sxs-lookup"><span data-stu-id="4b268-113">Features</span></span>

<span data-ttu-id="4b268-114">Использование модуля Az PowerShell связано с рядом преимуществ.</span><span class="sxs-lookup"><span data-stu-id="4b268-114">The Az PowerShell module features the following benefits:</span></span>

* <span data-ttu-id="4b268-115">Безопасность и стабильность:</span><span class="sxs-lookup"><span data-stu-id="4b268-115">Security and stability</span></span>
  * <span data-ttu-id="4b268-116">шифрование кэша токенов;</span><span class="sxs-lookup"><span data-stu-id="4b268-116">Token cache encryption</span></span>
  * <span data-ttu-id="4b268-117">Предотвращение атак "злоумышленник в середине"</span><span class="sxs-lookup"><span data-stu-id="4b268-117">Prevention of man-in-the-middle attack type</span></span>
  * <span data-ttu-id="4b268-118">Поддержка проверки подлинности с помощью ADFS 2019</span><span class="sxs-lookup"><span data-stu-id="4b268-118">Support authentication with ADFS 2019</span></span>
  * <span data-ttu-id="4b268-119">Проверка подлинности на основе имени пользователя и пароля в PowerShell 7</span><span class="sxs-lookup"><span data-stu-id="4b268-119">Username and password authentication in PowerShell 7</span></span>
  * <span data-ttu-id="4b268-120">поддержка таких функций, как Непрерывная оценка доступа (будет реализована в 2021 г.).</span><span class="sxs-lookup"><span data-stu-id="4b268-120">Support for features like continuous access evaluation (coming in 2021)</span></span>
* <span data-ttu-id="4b268-121">Поддержка всех служб Azure:</span><span class="sxs-lookup"><span data-stu-id="4b268-121">Support for all Azure services</span></span>
  * <span data-ttu-id="4b268-122">Все общедоступные службы Azure имеют соответствующий поддерживаемый модуль PowerShell</span><span class="sxs-lookup"><span data-stu-id="4b268-122">All generally available Azure services have a corresponding supported PowerShell module</span></span>
  * <span data-ttu-id="4b268-123">исправление ряда ошибок и обновление версий API, используемых с AzureRM.</span><span class="sxs-lookup"><span data-stu-id="4b268-123">Multiple bug fixes and API version upgrades since AzureRM</span></span>
* <span data-ttu-id="4b268-124">Новые возможности</span><span class="sxs-lookup"><span data-stu-id="4b268-124">New capabilities</span></span>
  * <span data-ttu-id="4b268-125">поддержка в Cloud Shell и кросс-платформенных решениях;</span><span class="sxs-lookup"><span data-stu-id="4b268-125">Support in Cloud Shell and cross-platform</span></span>
  * <span data-ttu-id="4b268-126">возможность получения и использования маркера доступа для доступа к ресурсам Azure;</span><span class="sxs-lookup"><span data-stu-id="4b268-126">Can get and use access token to access Azure resources</span></span>
  * <span data-ttu-id="4b268-127">Командлет, доступный для дополнительных операций REST с ресурсами Azure</span><span class="sxs-lookup"><span data-stu-id="4b268-127">Cmdlet available for advanced REST operations with Azure resources</span></span>

> [!NOTE]
> <span data-ttu-id="4b268-128">Для работы в Az PowerShell на всех платформах мы рекомендуем использовать PowerShell версии 7.x и выше.</span><span class="sxs-lookup"><span data-stu-id="4b268-128">PowerShell 7 and later is the recommended version of PowerShell for use with Az PowerShell on all platforms.</span></span>

<span data-ttu-id="4b268-129">Модуль Az PowerShell основан на библиотеке .NET Standard и работает с PowerShell 7 и более поздних версий на всех платформах, включая Windows, macOS и Linux.</span><span class="sxs-lookup"><span data-stu-id="4b268-129">The Az PowerShell module is based on the .NET Standard library and works with PowerShell 7 and later on all platforms including Windows, macOS, and Linux.</span></span> <span data-ttu-id="4b268-130">Он также совместим с Windows PowerShell 5.1.</span><span class="sxs-lookup"><span data-stu-id="4b268-130">It's also compatible with Windows PowerShell 5.1.</span></span>

<span data-ttu-id="4b268-131">Мы стремимся обеспечить поддержку Azure на всех платформах, поэтому модули Az PowerShell являются кросс-платформенными.</span><span class="sxs-lookup"><span data-stu-id="4b268-131">We're committed to bringing Azure support to all platforms and all Az PowerShell modules are cross-platforms.</span></span>

## <a name="upgrade-your-environment-to-az"></a><span data-ttu-id="4b268-132">Обновление среды до Az</span><span class="sxs-lookup"><span data-stu-id="4b268-132">Upgrade your environment to Az</span></span>

<span data-ttu-id="4b268-133">Для включения поддержки новых функций Azure в PowerShell необходимо перейти на модуль Az.</span><span class="sxs-lookup"><span data-stu-id="4b268-133">To keep up with the latest Azure features in PowerShell, you should migrate to the Az module.</span></span> <span data-ttu-id="4b268-134">Если вы не готовы установить модуль Az в качестве замены AzureRM, вам доступны несколько способов экспериментирования с Az.</span><span class="sxs-lookup"><span data-stu-id="4b268-134">If you're not ready to install the Az module as a replacement for AzureRM, you have a couple of options available to experiment with Az:</span></span>

* <span data-ttu-id="4b268-135">Использование среды `PowerShell` с [Azure Cloud Shell](/azure/cloud-shell/overview).</span><span class="sxs-lookup"><span data-stu-id="4b268-135">Use a `PowerShell` environment with [Azure Cloud Shell](/azure/cloud-shell/overview).</span></span> <span data-ttu-id="4b268-136">Azure Cloud Shell — это браузерная среда оболочки, которая поставляется с пакетом установки модуля Az и поддерживает псевдонимы совместимости `Enable-AzureRM`.</span><span class="sxs-lookup"><span data-stu-id="4b268-136">Azure Cloud Shell is a browser-based shell environment that comes with the Az module installed and `Enable-AzureRM` compatibility aliases enabled.</span></span>
* <span data-ttu-id="4b268-137">Не удаляйте модуль AzureRM, установленный в Windows PowerShell 5.1. Просто установите модуль Az в PowerShell версии 7 или выше.</span><span class="sxs-lookup"><span data-stu-id="4b268-137">Keep the AzureRM module installed in Windows PowerShell 5.1 and install the Az module in PowerShell 7 or later.</span></span> <span data-ttu-id="4b268-138">Windows PowerShell 5.1 и PowerShell версии 7 или выше используют разные коллекции модулей.</span><span class="sxs-lookup"><span data-stu-id="4b268-138">Windows PowerShell 5.1 and PowerShell 7 and later use separate collections of modules.</span></span> <span data-ttu-id="4b268-139">Выполните инструкции по установке [последней версии PowerShell](/powershell/scripting/install/installing-powershell), а затем [установите модуль Az](install-az-ps.md) из PowerShell версии 7 или выше.</span><span class="sxs-lookup"><span data-stu-id="4b268-139">Follow the instructions to install the [latest version of PowerShell](/powershell/scripting/install/installing-powershell) and then [install the Az module](install-az-ps.md) from PowerShell 7 or later.</span></span>

<span data-ttu-id="4b268-140">Чтобы выполнить обновление из существующей установки AzureRM, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="4b268-140">To upgrade from an existing AzureRM install:</span></span>

1. <span data-ttu-id="4b268-141">[Удалите модуль AzureRM для Azure PowerShell](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span><span class="sxs-lookup"><span data-stu-id="4b268-141">[Uninstall the Azure PowerShell AzureRM module](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module)</span></span>
1. <span data-ttu-id="4b268-142">[Установите модуль Az для Azure PowerShell](install-az-ps.md).</span><span class="sxs-lookup"><span data-stu-id="4b268-142">[Install the Azure PowerShell Az module](install-az-ps.md)</span></span>
1. <span data-ttu-id="4b268-143">**НЕОБЯЗАТЕЛЬНО**. Активируйте режим совместимости, чтобы добавить псевдонимы для командлетов AzureRM с помощью [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias), пока вы не ознакомитесь с новым набором команд.</span><span class="sxs-lookup"><span data-stu-id="4b268-143">**OPTIONAL**: Enable compatibility mode to add aliases for AzureRM cmdlets with [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) while you become familiar with the new command set.</span></span> <span data-ttu-id="4b268-144">Дополнительные сведения см. в следующем разделе или в статье [Перенос Azure PowerShell с AzureRM на Az](migrate-from-azurerm-to-az.md).</span><span class="sxs-lookup"><span data-stu-id="4b268-144">For more information, see the next section or [Start migration from AzureRM to Az](migrate-from-azurerm-to-az.md).</span></span>

## <a name="migrate-existing-scripts-from-azurerm-to-az"></a><span data-ttu-id="4b268-145">Перенос существующих скриптов с AzureRM на Az</span><span class="sxs-lookup"><span data-stu-id="4b268-145">Migrate existing scripts from AzureRM to Az</span></span>

<span data-ttu-id="4b268-146">Если ваши скрипты зависят от модуля AzureRM, вы можете выполнить перенос с помощью нескольких ресурсов:</span><span class="sxs-lookup"><span data-stu-id="4b268-146">If your scripts are still based on the AzureRM module, we have several resources to help you with the migration:</span></span>

* [<span data-ttu-id="4b268-147">Перенос Azure PowerShell с AzureRM на Az</span><span class="sxs-lookup"><span data-stu-id="4b268-147">Get started with migration from AzureRM to Az</span></span>](migrate-from-azurerm-to-az.md)
* [<span data-ttu-id="4b268-148">Полный список критических изменений между AzureRM и Az 1.0.0</span><span class="sxs-lookup"><span data-stu-id="4b268-148">Full list of breaking changes from AzureRM to Az 1.0.0</span></span>](migrate-az-1.0.0.md)
* <span data-ttu-id="4b268-149">Командлет [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias)</span><span class="sxs-lookup"><span data-stu-id="4b268-149">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet</span></span>

## <a name="supportability"></a><span data-ttu-id="4b268-150">Возможности поддержки</span><span class="sxs-lookup"><span data-stu-id="4b268-150">Supportability</span></span>

<span data-ttu-id="4b268-151">Az — это актуальный модуль PowerShell для Azure.</span><span class="sxs-lookup"><span data-stu-id="4b268-151">Az is the most current PowerShell module for Azure.</span></span> <span data-ttu-id="4b268-152">Проблемы или запросы функций можно регистрировать непосредственно в [репозитории GitHub](https://github.com/Azure/azure-powershell) или через службу поддержки Майкрософт, если у вас есть контракт на поддержку.</span><span class="sxs-lookup"><span data-stu-id="4b268-152">Issues or feature requests can be logged directly on the [GitHub repository](https://github.com/Azure/azure-powershell), or via Microsoft support if you have a support contract.</span></span> <span data-ttu-id="4b268-153">Возможность запроса функций будет реализована в последней версии Az.</span><span class="sxs-lookup"><span data-stu-id="4b268-153">Feature requests will be implemented in the latest version of Az.</span></span> <span data-ttu-id="4b268-154">Функция критических проблем будет реализована в двух последних версиях Az.</span><span class="sxs-lookup"><span data-stu-id="4b268-154">Critical issues will be implemented on the last two versions of Az.</span></span>

<span data-ttu-id="4b268-155">Так как модули PowerShell Az теперь обладают всеми возможностями модулей PowerShell AzureRM, а также многими другими, 29 февраля 2024 г. мы прекратим поддержку модулей PowerShell AzureRM.</span><span class="sxs-lookup"><span data-stu-id="4b268-155">Because Az PowerShell modules now have all the capabilities of AzureRM PowerShell modules and more, we'll retire AzureRM PowerShell modules on 29 February 2024.</span></span>

<span data-ttu-id="4b268-156">Чтобы избежать прерываний в работе служб, [обновите скрипты](https://aka.ms/azpsmigrate), использующие модули PowerShell AzureRM, для использования модулей PowerShell Az, до 29 февраля 2024 г.</span><span class="sxs-lookup"><span data-stu-id="4b268-156">To avoid service interruptions, [update your scripts](https://aka.ms/azpsmigrate) that use AzureRM PowerShell modules to use Az PowerShell modules by 29 February 2024.</span></span> <span data-ttu-id="4b268-157">Чтобы автоматически обновить скрипты, следуйте инструкциям из [этого краткого руководства](/powershell/azure/quickstart-migrate-azurerm-to-az-automatically).</span><span class="sxs-lookup"><span data-stu-id="4b268-157">To automatically update your scripts, follow the [quickstart guide](/powershell/azure/quickstart-migrate-azurerm-to-az-automatically).</span></span>

## <a name="data-collection"></a><span data-ttu-id="4b268-158">Сбор данных</span><span class="sxs-lookup"><span data-stu-id="4b268-158">Data collection</span></span>

<span data-ttu-id="4b268-159">Azure PowerShell собирает данные телеметрии по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4b268-159">Azure PowerShell collects telemetry data by default.</span></span> <span data-ttu-id="4b268-160">Корпорация Майкрософт агрегирует собранные данные для определения закономерностей использования, обнаружения распространенных проблем и улучшения работы Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4b268-160">Microsoft aggregates collected data to identify patterns of usage to identify common issues and to improve the experience of Azure PowerShell.</span></span>
<span data-ttu-id="4b268-161">Microsoft Azure PowerShell не собирает личные или персональные данные.</span><span class="sxs-lookup"><span data-stu-id="4b268-161">Microsoft Azure PowerShell does not collect any private or personal data.</span></span> <span data-ttu-id="4b268-162">Например, данные об использовании позволяют определить проблемы, вызванные, например, командлетами с низким процентом выполнений, и помогают задать приоритеты для нашей работы.</span><span class="sxs-lookup"><span data-stu-id="4b268-162">For example, the usage data helps identify issues such as cmdlets with low success and helps prioritize our work.</span></span>

<span data-ttu-id="4b268-163">Хотя для нас важно получать эти ценные сведения, мы также понимаем, что не все хотят передавать данные об использовании.</span><span class="sxs-lookup"><span data-stu-id="4b268-163">While we appreciate the insights this data provides, we also understand that not everyone wants to send usage data.</span></span> <span data-ttu-id="4b268-164">Сбор данных можно отключить с помощью командлета [`Disable-AzDataCollection`](/powershell/module/az.accounts/disable-azdatacollection).</span><span class="sxs-lookup"><span data-stu-id="4b268-164">You can disable data collection with the [`Disable-AzDataCollection`](/powershell/module/az.accounts/disable-azdatacollection) cmdlet.</span></span> <span data-ttu-id="4b268-165">Вы также можете ознакомиться с нашим [заявлением о конфиденциальности](https://privacy.microsoft.com/privacystatement), чтобы получить дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="4b268-165">You can also read our [privacy statement](https://privacy.microsoft.com/privacystatement) to learn more.</span></span>
